<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/font-roboto/roboto.html">
<link rel="import" href="bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/core-icons/core-icons.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/paper-fab/paper-fab.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="bower_components/core-localstorage/core-localstorage.html">
<link rel="import" href="bower_components/core-item/core-item.html">
<link rel="import" href="bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/paper-slider/paper-slider.html">
<link rel="import" href="bower_components/paper-toast/paper-toast.html">
<link rel="import" href="bower_components/core-ajax/core-ajax.html">

<polymer-element name="socobo-app">
  <template>
    <link rel="stylesheet" href="styles.css">
    <core-drawer-panel responsiveWidth="600px" id="drawerPanel">
      <core-header-panel drawer>
        <core-toolbar>Menu</core-toolbar>
        <core-item>
          <label flex>Fade out selected</label>
          <paper-toggle-button class="red" checked="{{fadeSelected}}"></paper-toggle-button>
        </core-item>
        <core-item>
          <label flex>Delete checked</label>
          <paper-icon-button icon="delete"  on-click="{{delete}}"></paper-icon-button>
        </core-item>
        <core-item>
          <div center horizontal layout>
            <paper-slider value="{{fontSize}}" max="32" editable></paper-slider>
          </div>
        </core-item>
        <core-item>
          <paper-button raised class="colored" on-click="{{reset}}">Reset</paper-button>
        </core-item>
        <core-item>
          <paper-button raised class="colored" on-click="{{saveFridge }}">Save</paper-button>
        </core-item>
        <paper-toast id="toast" class="capsule" text="Settings have been reset" duration=800></paper-toast>
        <core-ajax id="ajax"
          auto="false"
          url="http://localhost:9000/api/v1/thomas/fridge"
          handleAs="json"
          method="POST"
          on-core-response="{{handleResponse}}">
        </core-ajax>
      </core-header-panel>

      <core-header-panel main>
        <core-toolbar>
          <paper-icon-button icon="menu" on-click="{{toggleDrawer}}"></paper-icon-button>
          <span flex>My fridge</span>
          <paper-icon-button icon="search"></paper-icon-button>
          <paper-icon-button icon="more-vert"></paper-icon-button>
          <paper-fab icon="icons:add" on-click="{{showNewNoteInput}}"></paper-fab>
          </core-toolbar>
          <paper-input
              id="newNoteInput"
              floatingLabel
              on-change = "{{add}}"
              value = "{{newNote}}"
              label="Add a new item"></paper-input>
          <div class="content" data-fade-selected="{{fadeSelected}}">
          <template repeat="{{data}}">
            <div center horizontal layout class="item" data-done="{{done}}">
              <paper-checkbox checked="{{done}}" on-changed="{{dataChanged}}"></paper-checkbox>
                <div flex class="card">
                  <p>{{body}}</p>
                </div>
              </div>
            </div>
          </template>
          </div>
      </core-header-panel>
    </core-drawer-panel>
    <core-localstorage id="storage" name="codelab-app-storage" value="{{data}}" />
  </template>
  <script src="javascripts/socobo_main.js">

  </script>
</polymer-element>
